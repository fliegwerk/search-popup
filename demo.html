<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
		/>
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/mini.css/3.0.1/mini-default.min.css"
		/>
		<title>Document</title>
		<style>
			header {
				display: flex;
				align-items: center;
			}

            html, body {
                scroll-behavior: smooth;
            }

			.spacer {
				flex-grow: 1;
			}
		</style>
	</head>
	<body>
		<header class="sticky">
			<a href="#" class="logo">Search Popup</a>
			<div class="spacer"></div>
			<button onclick="openSearch()">
				<span class="icon-search"></span> Search: <kbd>Ctrl</kbd>+<kbd>K</kbd>
			</button>
		</header>
		<h1>Search Popup Demo</h1>
        <h2 id="props">Props</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam architecto asperiores at earum id odit
            ratione, recusandae suscipit. Ad amet distinctio et fugiat harum, incidunt mollitia nobis rem velit
            voluptatem.</p>
        <p>Assumenda eos et ipsum laboriosam magnam minus nemo neque, nihil nisi numquam perferendis praesentium quaerat
            quasi rerum sit tempora vero voluptas voluptatem. Consequuntur debitis dicta non nostrum possimus, quae
            vitae.</p>
        <p>Aperiam cupiditate, debitis dolore exercitationem explicabo maxime modi necessitatibus nihil, numquam
            officia, tenetur veritatis. Adipisci animi consectetur porro quasi soluta. Consequuntur eos esse natus omnis
            pariatur ratione temporibus! Suscipit, veniam.</p>
        <p>Autem ullam vel voluptatem? Ad adipisci at beatae blanditiis ea earum eligendi, ex facere facilis illo iste
            laudantium molestiae nulla quia quibusdam quis repellendus sequi sint veritatis vero voluptas,
            voluptatem!</p>
        <p>Accusamus culpa esse et fugiat magnam obcaecati omnis, quasi rerum voluptas! Aliquam corporis culpa ex iste
            perspiciatis, voluptas! Adipisci alias error excepturi libero maiores minima nam quae? Ad, distinctio,
            iure!</p>
        <h2 id="another">Another</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque culpa dicta dolores dolorum impedit laborum
            maxime minima nam non odit pariatur perferendis quae quis reprehenderit repudiandae, tenetur unde vero
            voluptas.</p>
        <p>Assumenda debitis ea explicabo hic illo laudantium maxime molestiae nobis optio, perspiciatis qui repudiandae
            sint sit, soluta, sunt. Aliquid distinctio dolorem dolores esse minima pariatur quam repellat repudiandae
            suscipit velit?</p>
        <p>Ad, commodi consequuntur debitis dolore dolores eaque exercitationem natus, non provident quam quia quis
            quod? Amet, aperiam consectetur delectus deleniti dolore ea exercitationem itaque iusto saepe sapiente sed
            velit voluptatem?</p>
        <p>Cupiditate enim eos facilis, molestiae non perspiciatis repellendus sed suscipit! Commodi cum doloribus
            nesciunt placeat veniam. A illo, ipsam. Consequuntur deleniti distinctio laudantium libero maxime pariatur
            quae quaerat reiciendis similique!</p>
        <p>Cupiditate doloremque dolores doloribus iure quae ratione suscipit tempora. Atque beatae consectetur cum
            dicta dolore, dolores error explicabo facere fuga, laboriosam minima obcaecati praesentium quidem quis
            repudiandae soluta suscipit unde!</p>

		<script src="https://rawcdn.githack.com/nextapps-de/flexsearch/master/dist/flexsearch.min.js"></script>
		<script src="dist/bundle.js"></script>
		<script>
			const index = [
				{
					name: 'props',
					text: 'Element.props',
					url: '/search-bar-component/demo.html#props',
				}, {
					name: 'another',
					text: 'Element.another',
					url: '/search-bar-component/demo.html#another',
				} /* ... */,
			];

			const searchIndex = new FlexSearch({
				encode: (q) =>
					q.replace(/([a-z])([A-Z])/g, '$1 $2').toLowerCase() +
					' ' +
					q.toLowerCase(),
				tokenize: 'full',
				threshold: 0,
				resolution: 9,
				depth: 3,
				doc: {
					id: 'url',
					field: ['name', 'text'],
				},
			});

			searchIndex.add(index);

			function search(q) {
				q = q || '';
				return searchIndex.search(
					q.replace(/([a-z])([A-Z])/g, '$1 $2').toLowerCase(),
					5
				);
			}

			const searchPopup = document.createElement('search-popup');
			searchPopup.setAttribute('search', 'search');
			document.body.appendChild(searchPopup);
		</script>
	</body>
</html>
